library(tidyverse)
# library()
faces <- read_csv('Data/FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('~/Data/FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('Data/FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('/Data/FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('Data/FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('Data/FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('../FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('./FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('../FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('..FACES_data_Spring_2019_AllData.csv')
faces <- read_csv('..//FACES_data_Spring_2019_AllData.csv')
getwd()
getwd('..')
setwd('..')
faces <- read_csv('FACES_data_Spring_2019_AllData.csv')
faces <- read_csv(paste0(getwd(), '/FACES_data_Spring_2019_AllData.csv'))
setwd('..')
faces <- read_csv(paste0(getwd(), '/FACES_data_Spring_2019_AllData.csv'))
dirname(getwd())
faces <- read_csv(paste0(dirname(getwd()), '/FACES_data_Spring_2019_AllData.csv'))
faces <- read_csv(paste0(dirname(getwd()), '/FACES_data_Spring_2019_AllData.csv'))
faces
faces %>%
group_by(Time, Group) %>%
summarise_if(numeric, list(mean, median, sd,))
faces %>%
group_by(Time, Group) %>%
summarise_if(numeric, list(mean, median, sd))
faces %>%
group_by(Time, Group) %>%
summarise_if(numeric, .funs = list('mean' = mean, 'med' = median, 'sd' = sd))
faces %>%
group_by(Time, Group) %>%
summarise_if(numeric, .funs =  c(mean,  median, sd))
faces %>%
group_by(Time, Group) %>%
summarise_if(numeric, .funs =  mean)
faces %>%
group_by(Time, Group)
faces %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'sd' = sd))
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'sd' = sd))
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'sd' = sd), na.rm = T)
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, rsd = function(x) sd(x)/mean(x)), na.rm = T)
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, rsd = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T)
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, rsd = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
pivot_longer(-Time, -Group, names_to = 'Category_Summary', values_to = 'Value')
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, rsd = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T)
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, rsd = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
pivot_longer(names_to = 'Category_Summary', values_to = 'Value', -Time, -Group)
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, rsd = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
pivot_longer(names_to = 'Category_Summary', values_to = 'Value', -`Time`, -`Group`)
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, rsd = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(names_to = 'Category_Summary', values_to = 'Value', -Time, -Group)
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value')
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = "\s")
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = " ")
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_")
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_sub(Category, end = str_locate(Category, '[:digit:]')))
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', ''))
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>% str_trim(side = 'both'))
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>% str_trim(side = 'both'),
Summary  = str_trim(side = 'both'))
faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric, .funs = list('mean' = mean, 'med' = median, 'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)), na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>% str_trim(side = 'both'),
Summary  = str_trim(Summary, side = 'both'))
faces_tbl <- faces %>%
select(-`Participant #`) %>%
group_by(Time, Group) %>%
summarise_if(is_numeric,
.funs = list('mean' = mean, 'med' = median,
'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)),
na.rm = T) %>%
ungroup() %>%
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>% str_trim(side = 'both'),
Summary  = str_trim(Summary, side = 'both'))
theme_set(theme_bw())
faces_tbl <- faces %>%
# Deselect participant id
select(-`Participant #`) %>%
group_by(Time, Group) %>%
# Summarise only the responses
summarise_if(is_numeric,
.funs = list('mean' = mean, 'med' = median,
'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)),
na.rm = T) %>%
ungroup() %>%
# Taking the columns generated by the summary function
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
# Parsing out the column headers
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>% str_trim(side = 'both'),
Category = factor(Category),
Summary  = str_trim(Summary, side = 'both'),
Summary  = factor(Summary))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Summary, y = Value))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value))
faces_tbl
faces %>%
# Deselect participant id
select(-`Participant #`) %>%
group_by(Time, Group) %>%
# Summarise only the responses
summarise_if(is_numeric,
.funs = list('mean' = mean, 'med' = median,
'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)),
na.rm = T) %>%
ungroup() %>%
# Taking the columns generated by the summary function
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
# Parsing out the column headers
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_")
faces_tbl <- faces %>%
# Deselect participant id
select(-`Participant #`) %>%
group_by(Time, Group) %>%
# Summarise only the responses
summarise_if(is_numeric,
.funs = list('mean' = mean, 'med' = median,
'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)),
na.rm = T) %>%
ungroup() %>%
# Taking the columns generated by the summary function
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
# Parsing out the column headers
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>%
str_replace('[:digit:]', '')  %>%
str_trim(side = 'both'),
Category = factor(Category),
Summary  = str_trim(Summary, side = 'both'),
Summary  = factor(Summary))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, group = Time, fill = Group), position = 'dodge')
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, group = Time, fill = Group))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, fill = Group))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, fill = Group)) +
facet_wrap(Time)
faces_tbl
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, fill = Group)) +
facet_wrap(.~Time)
faces_tbl <- faces %>%
# Deselect participant id
select(-`Participant #`) %>%
group_by(Time, Group) %>%
# Summarise only the responses
summarise_if(is_numeric,
.funs = list('mean' = mean, 'med' = median,
'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)),
na.rm = T) %>%
ungroup() %>%
# Taking the columns generated by the summary function
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Value') %>%
# Parsing out the column headers
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>%
str_replace('[:digit:]', '')  %>%
str_trim(side = 'both'),
Category = factor(Category),
Summary  = str_trim(Summary, side = 'both'),
Summary  = factor(Summary),
Group    = factor(Group),
Time     = factor(Time, levels = c('Pre', 'Post')))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, fill = Group)) +
facet_wrap(.~Time)
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, fill = Group)) +
facet_wrap(Group~Time)
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, fill = Group)) +
facet_wrap(Category~Time)
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x')
faces_tbl <- faces %>%
# Deselect participant id
select(-`Participant #`) %>%
group_by(Time, Group) %>%
# Summarise only the responses
summarise_if(is_numeric,
.funs = list('mean' = mean, 'med' = median,
'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)),
na.rm = T) %>%
ungroup() %>%
# Taking the columns generated by the summary function
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Response') %>%
# Parsing out the column headers
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>%
str_replace('[:digit:]', '')  %>%
str_trim(side = 'both'),
Category = factor(Category),
Summary  = str_trim(Summary, side = 'both'),
Summary  = factor(Summary),
Group    = factor(Group),
Time     = factor(Time, levels = c('Pre', 'Post')))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Value, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of Mean Response per Question Category')
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Response, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of Mean Response per Question Category')
faces_tbl %>%
filter(Summary == 'med') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Response, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of Mean Response per Question Category')
faces_tbl %>%
filter(Summary == 'rsd') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Response, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of Mean Response per Question Category')
tinytex::install_tinytex()
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Response, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of Mean Response per Question Category')
library(tidyverse)
# library()
theme_set(theme_bw())
faces <- read_csv(paste0(dirname(getwd()), '/FACES_data_Spring_2019_AllData.csv'))
faces_tbl <- faces %>%
# Deselect participant id
select(-`Participant #`) %>%
group_by(Time, Group) %>%
# Summarise only the responses
summarise_if(is_numeric,
.funs = list('mean' = mean, 'med' = median,
'rsd' = function(x, ...) sd(x, ...)/mean(x, ...)),
na.rm = T) %>%
ungroup() %>%
# Taking the columns generated by the summary function
pivot_longer(ends_with('mean') | ends_with('med') | ends_with('rsd'),
names_to = 'Category_Summary', values_to = 'Response') %>%
# Parsing out the column headers
separate(Category_Summary, into = c('Category', 'Summary'), sep = "_") %>%
mutate(Category = str_replace(Category,'[:digit:]', '') %>%
str_replace('[:digit:]', '')  %>%
str_trim(side = 'both'),
Category = factor(Category),
Summary  = str_trim(Summary, side = 'both'),
Summary  = factor(Summary),
Group    = factor(Group),
Time     = factor(Time, levels = c('Pre', 'Post')))
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Response, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of Mean Response per Question Category')
ggsave(filename = 'BP_mean.png', width = 16, height = 9, units = in)
faces_tbl %>%
filter(Summary == 'mean') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Response, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of Mean Response per Question Category')
ggsave(filename = 'BP_mean.png', width = 16, height = 9, units = 'in')
faces_tbl %>%
filter(Summary == 'med') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Response, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of Median Response per Question Category')
ggsave(filename = 'BP_med.png', width = 16, height = 9, units = 'in')
faces_tbl %>%
filter(Summary == 'rsd') %>%
ggplot() +
geom_boxplot(aes(x = Category, y = Response, fill = Group)) +
facet_wrap(Category~Time, scales = 'free_x') +
labs(title = 'Boxplot of RSD Response per Question Category')
ggsave(filename = 'BP_rsd.png', width = 16, height = 9, units = 'in')
View(faces)
library(parallel)
detectCores()
detectCores
